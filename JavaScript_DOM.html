<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>JavaScript And The DOM</title>
      <link rel="stylesheet" href="style.css">
      <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300&display=swap" rel="stylesheet">
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>JavaScript And The DOM - manipulating the DOM</h1>
      </header>

        <main>
          <section class="openingSection">
            <p>Ref Points <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction" target="_blank">Mozilla DOM</a></p>
            <p>Use the MDN website to look for help or see what is relevant today <a href="https://developer.mozilla.org/en-US/" target="_blank">MDN</a>. Also shows browser compatability</p>
            <p>You can also use <a href="http://caniuse.com/#" target="_blank">can I use</a> to get browser compatability</p>
            <p>The developer tools in the browsers is very helpful, the elements tabs</p>
            <p>The e passed into a function is the event object. It gives some great info that but most importantly the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/target" target="_blank">target</a>.</p>
          </section>

          <section>
            <h2>The Browser Environment- The DOM</h2>
            <p>The environment that JavaScript runs in — like a browser, or a server, or even an embedded computer — has a fundamental effect on what it can do. In this stage we'll explore the browser environment, and see how JavaScript can change a webpage right before our eyes.</p>
              <ul>
                <li>Wikipedia is an example of a website that doesnt have any javascript just text, links and images</li>
                <li><a href="https://www.codepen.io" target="_blank">Code pen</a> is a website that displays JavaScript. repsonding to clicks of a mouse on the screen</li>
                <li>Javascript will act upon actions</li>
                <li>A web page has many elements on a page, example would be a number on the codepen calcualtor. Once clicked on the element is manipulated or changed.</li>
                <li>The dom standard for document object model - The dom is were all these actions take place.</li>
                <li>The document lives within the window provided by the browser.
                  <br><img src="Images/JS DOM.jpg" alt=""></li>
                <li>To interact with the DOM you can use developers tools in chrome or something similiar in another browser</li>
                <li>You can type javascript directly into the console. <b>location.ref</b> is javascript to display the URL you are on.</li>
                <li><b style="color:red">document.getElementById()</b> is one way you can interact with a element in a web page. The perferred method is document.querySelector() and selecting the element, class or ID in the parenthases.</li>
                <li>A list of all the DOM properties can be seen <a href="https://www.w3schools.com/jsref/dom_obj_document.asp" target="_blank">HERE</a>
                  <br><img src="Images/DOM document ..jpg" alt=""></li>
                <li>document.scripts returns all script elements in a list, this list is not an array. You will need to change this to an array using Array.from(scripts); </li>
                <li>If you console.log document you will find the complete HTML document listed, this could also be seen in elements in the inspector of the browser.</li>
                <li>An exmaple of interactive javascript is to change the colour of a element when hovered or clicked.</li>
                <li>The DOM is like a map of the web page that javascript can use, illustrations below:
                  <br><img src="Images/DOM structure Illustration.jpg" alt="">
                  <br><img src="Images/DOM structure Illustration.jpg" alt=""> </li>
                <li>Javascript uses the above relationships to alter and change the structure and actions of the DOM website</li>
                <li><img src="Images/JS can do with DOM.jpg" alt=""></li>
              </ul>
          </section>

          <section>
            <h2>Getting a handle on the DOM While Making Changes</h2>
            <p>The first step of making a web page interactive is grabbing a hold of elements you want the user to interact with. This is called selection. There are a number of ways to select elements on a web page. Let's explore those you are likely to use most often.</p>

              <h3>Single Element Selection DOM</h3>
                <ul>
                  <li>When selecting a element in the DOM it should be stored in a variable.</li>
                  <li>Selecting a single element stores one element from the DOM and you can use one of the two methods:
                    <br>document.getElementById(''); - The HTML element will need to have the ID.
                    <br>document.querySelector(''); - This is a lot more powerful than the above. You can call the ID or class directly. id is # and class is .
                    <br><img src="Images/query selector dom.jpg" alt=""></li>
                  <li>You can get things from the element using things like document.getElementById('').id; and document.getElementById('').className;</li>
                  <li>You can also change the styling by using document.getElementById('').style.background = black;
                    <br><img src="Images/Single Element Dom.jpg" alt=""></li>
                  <li>To change the content you can use document.getElementById('').textContent = ''; . You can use innerText instead of textContent</li>
                  <li>We can also add to the HTML by using document.getElementById('').innerHTML = '';
                    <br><img src="Images/Single Element Dom innerHTML.jpg" alt=""></li>
                  <li>You can selected a nested element using document.querySelector('ul li'). This picks up the first bullet point in the list
                    <br><img src="Images/query selector nested.jpg" alt=""></li>
                  <li>The locations where the elements are placed in the DOM are called Nodes, and on the web page, it’s not that only HTML elements get their node, but also the attributes of the HTML elements have their nodes (attribute nodes), every piece of text has its node (text nodes), and there are many other node types. The structural relation of these nodes reflects the structure of the HTML document. Because of that, we can define the relations between the elements on the page as the relations between their nodes in the DOM.</li>
                </ul>

              <h3>Multiple Element Selection DOM</h3>
                <ul>
                  <li>You can use document.getElementsByClassName(''); - This will bring back all the elements with that class name in a list
                    <br><img src="Images/multiple elements class name.jpg" alt=""></li>
                  <li>You can use document.getElementsByTagName(''); This selects all the elements with that tag name, li or div or son on
                    <br><img src="Images/multiple elements tag name.jpg" alt=""></li>
                  <li>The above do not bring back arrays you have to convert them into arrays. Array.from();</li>
                  <li>You can use document.querySelectorAll(''); which brings back a node list. Again you will need to convert this to an array</li>
                  <li>Selecting even and odd elements 
                    <br><img src="Images/multiple elements selecting even and odd elements.jpg" alt=""></li>
                </ul>

              <h3>Traversing The DOM</h3>
                <ul>
                  <li>Traversing The DOM is moving up and down the DOM</li>
                  <li>Parents and Children of nodes or what ever we select.</li>
                  <li>All items in the DOM are defined as <a href="https://www.digitalocean.com/community/tutorials/understanding-the-dom-tree-and-nodes" target="_blank">nodes</a>. There are many types of nodes, but there are three main ones that we work with most often:
                    <ul>
                      <li>Element nodes</li>
                      <li>Text nodes</li>
                      <li>Comment nodes</li>
                    </ul> </li>
                  <li>To get a child node of something you can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/childNodes" target="_blank">.childNodes</a>. Returns a node list including text nodes which can be as simple as line breaks</li>
                  <li>The above might not work for you as you dont want the text nodes so you can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/children" target="_blank">node.children;</a>. This returns a HTML collection</li>
                  <li>childNodes gives us all types of nodes but children gives us just the HTML elements</li>
                  <li>You can use properties on the above two getting the name and node type. 
                    <br><img src="Images/child node properties.jpg" alt=""></li>
                  <li>TO get grand children you can use you can use children.children</li>
                  <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/firstChild" target="_blank">.firstChild</a> returns the first node and <a href="https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/firstElementChild" target="_blank">firstElementChild</a> returns the first element</li>
                  <li>As above you can also use .lastChild and lastElementChild</li>
                  <li>You can also use <a href="https://developer.mozilla.org/en-US/docs/Web/API/ParentNode" target="_blank">parentNode</a> and parentElement</li>
                  <li>You can also get siblings  using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/nextSibling" target="_blank">nextSibling;</a> . this is a node and you can use nextElementSibling; for the next HTML element</li>
                  <li>You can also use previousSibling or previousElementSibling</li>
                </ul>

              <h3>Creating Elements</h3>
                <ul>
                  <li>Create a new HTML element and can add a css class to it. Essentially mnipulaton of the DOM</li>
                  <li>You can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement" target="_blank">document.createElement();</a>. This method creates the HTML element. You place the element you want to create in the parenthases ('li').</li>
                  <li>To add a css class to the new element you can use .className - '';</li>
                  <li>You can add a id to the new HTML using .id = '';</li>
                  <li>To add text to the new HTML element you create a text node <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/createTextNode" target="_blank">document.createTextNode()</a> and append that. node.appendChild(document.createTextNode());, node being the new HTML element and the text you want to insert will be placed into the parenthases of document.createTextNode().</li>
                  <li>An exmaple of creating a new HTML element:
                    <br><img src="Images/New DOM element.jpg" alt=""></li>
                </ul>

              <h3>Removing or Replacing Elements</h3>
                <ul>
                  <li>To replace a element create a new element using document.createElement('');.</li>
                  <li>Than add a id using .id or a class using .className</li>
                  <li>Finally append a text node to the new element using document.createTextNode('TEXT');</li>
                  <li><img src="Images/new element.jpg" alt=""></li>
                  <li>To replace a element you can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/replaceChild" target="_blank">replaceChild(NEWELEMENT, OLDELEMENT);</a>  In the example below you see card action which is the div the new and old element is in.
                    <br><img src="Images/Replace element.jpg" alt=""></li>
                  <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/ChildNode/remove" target="_blank">.remove</a> can be used to remove a element 
                    <br><img src="Images/Remove Element.jpg" alt=""></li>
                  <li>For attributes for a chosen element you an use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute" target="_blank">.getAttribute('')</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute" target="_blank">.setAttribute('')</a>
                    <br><img src="Images/Attribute.jpg" alt=""></li>
                </ul>

              <h3>Event Listners and The Event Object</h3>
                <ul>
                  <li>First select the element in the dom, qurySelector can be used</li>
                  <li>Once the element has been selected you can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener" target="_blank">.addEventListner()</a></li>
                  <li>The two things that go in the parenthases in .addEventListner() are <a href="https://developer.mozilla.org/en-US/docs/Web/Events" target="_blank">event type</a> (maybe a click) and anonymous call back function with a block of code to execute</li>
                  <li>To stop the defualt behaviour of the element you can pass in e as the parameter to the function which is the <a href="https://www.w3schools.com/jsref/obj_event.asp" target="_blank">event object</a>. This would look something like <b>e.preventDefault();</b> which would be placed in the function. The default action would be specified in the href in the HTML.
                    <br><img src="Images/e.preventdefault.jpg" alt=""></li>
                  <li>You can also call the event listner by passing the event type and stating a named function later down the code you can specify what that function does</li>
                  <li>The better way to do the above, using a named function
                    <br><img src="Images/Event named function.jpg" alt=""></li>
                </ul>

              <h3>Move Events</h3>
                <ul>
                  <li>Events that occur when the <a href="https://www.w3schools.com/jsref/obj_mouseevent.asp" target="_blank">mouse</a> interacts with the HTML document belongs to the MouseEvent Object.</li>
                  <li>You have mouse events like click, double click, mouse down, mouse up, mouse enter, mouse leave, mouse over, mouse out.</li>
                  <li>Example of using the above:
                    <br><img src="Images/Mouse Event Example.jpg" alt=""></li>
                </ul>

              <h3>Input and Form Events</h3>
                <ul>
                  <li>Like the mouse events you have many input and form events.</li>
                  <li>Remember to use e.preventDefault to stop the default behaviour.</li>
                  <li>You would want to get the value of the input field you use <a href="https://www.w3schools.com/jsref/prop_text_value.asp" target="_blank">.value</a> </li>
                  <li>Some key events keydown, keyup, keypress, focus, blurr, cut, paste, input, change</li>
                </ul>

              <h3>Event Bubbling and Delegation</h3>
                <ul>
                  <li>Event bubbling is the bubbling up of events through the DOM. A event will bubble up through its parents</li>
                  <li>An example of event bubbling clicking on a element with an event and this bubbles up and triggers any events on its parents 
                    <br><img src="Images/Event Bubbling.jpg" alt=""></li>
                  <li>Event delegation is were we put the event on the parent and use logic to target a child/gradchild and so on</li>
                  <li>An example of DOM delegation is as below were our function picks on al the a tags (X's) on the list page. This also clears all the list items buy looking at the grandparent elements.
                    <br><img src="Images/Dom delegation example.jpg" alt=""></li>
                </ul>
              </section>

          <section>
            <h2>Local and Session Storage</h2>
            <p>Web storage objects <a href="https://javascript.info/localstorage" target="_blank">localStorage and sessionStorage</a> allow to save key/value pairs in the browser.</p>
              <ul>
                <li>What you set in <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" target="_blank"></a> local storage has to be a string. You will have to convert things like arrays into a string.</li>
                <li>The <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank">JSON. stringify()</a> method converts a JavaScript object or value to a JSON string</li>
                <li>The <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" target="_blank">JSON.parse()</a> method parses a JSON string, constructing the JavaScript value or object described by the string.</li>
                <li>The difference between local storage and session storage is local stroage will stay until you clear it out.</li>
                <li>For local storage we use localStorage.setItem('');</li>
                <li>For session storage we use sessionStorage.setItem('');</li>
                <li>You can remove from the local storage using localStorage.removeItem('');</li>
                <li>To get a value from the local storage you can use localStorage.getItem('');</li>
                <li>To clear everything from the local storage you can use localStorage.clear();</li>
                <li>In local storage you can only save one thing at a time so you can save all into an array and JSON.stringify that in
                  <br><img src="Images/Add to local storage.jpg" alt=""></li>
              </ul>
          </section>
    </main>
    <footer>
      <p>&copy;2020 JavaScript DOM Basics, Amar's Learning</p>
    </footer>
    </div>    
  </body>
</html>
